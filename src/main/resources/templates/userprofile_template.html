{{< layouts/layout}}
{{$ content}}

{{#userInfo}}
<div class="mt-5">
    <div class="row">
        <div class="col-md-4 text-center">
            <img src="https://via.placeholder.com/300" alt="Profile Photo" class="rounded-circle img-fluid">
            <h1 class="mt-3"> {{userName}} </h1>
            <h3 class="mt-3"> {{name}} {{surname}}</h3>
        </div>
        
        <div class="col-md-8">
            <h4> Profile Information </h4>
            <ul class="list-group">
                <li class="list-group-item"><strong>Email: </strong>{{email}}</li>
                <li class="list-group-item"><strong>Location: </strong>

                    {{#address}}
                    {{.}}
                    {{/address}}
                    {{^address}}
                    No address available.
                    {{/address}}

                    , 
                    {{#city}}
                    {{.}}
                    {{/city}}
                    {{^city}}
                    No city available.
                    {{/city}}, 

                    {{#postalCode}} 
                    {{.}}
                    {{/postalCode}}
                    {{^postalCode}}
                    No postal code available.
                    {{/postalCode}}


                </li>
                <li class="list-group-item"><strong>Phone: </strong>

                    {{#phone}} 
                    {{.}}
                    {{/phone}}
                    {{^phone}}
                    No phone available.
                    {{/phone}}
                </li>
            </ul>
        </div>
    </div>
</div>
<div class="container mt-5">
    <h4> Reviews </h4>
    <div class="list-group">
        {{#reviews}}
        <div class="list-group-item">
            <h5>{{owner.userName}}</h5>
            <p class="mb-1">{{description}}</p>
            <small class="text-muted">Rating: {{rating}}/5</small>
        </div>
        {{/reviews}}
        {{^reviews}}
        <p class="text-muted">No reviews yet.</p>
        {{/reviews}}
    </div>
</div>
<div class="mt-5">
    <h4> Orders </h4>
    <div class="list-group">
        {{#orders}}
        <div class="list-group-item">
            <h5>Order ID: {{id}}</h5>
            <p><strong>Date:</strong> {{creationDate}}</p>
            <ul>
                {{#products}}
                <li>{{name}} : ${{price}}</li>
                {{/products}}
            </ul>
            <p><strong>Total Price:</strong> ${{totalPrice}}</p>
        </div>
        {{/orders}}
        {{^orders}}
        <p class="text-muted">No orders placed yet.</p>
        {{/orders}}
    </div>
</div>
<a href="/editprofile" class="btn btn-primary w-40">Edit Profile</a>
{{/userInfo}}
{{^userInfo}}
<div class="mt-5">
    <p class="text-muted">No user information available.</p>
</div>
{{/userInfo}}

{{/ content}}
{{/ layouts/layout}}
